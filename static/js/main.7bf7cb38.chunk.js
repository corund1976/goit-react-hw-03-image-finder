(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{14:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2XXks",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__IudHd"}},15:function(e,a,t){e.exports={Button:"Button_Button__3aj6O",buttonWrapper:"Button_buttonWrapper__1VEwH"}},16:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3rluN",Modal:"Modal_Modal__1g6hY"}},28:function(e,a,t){e.exports={container:"Container_container__rnvuT"}},29:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__2zQUu"}},31:function(e,a,t){e.exports={Loader:"Loader_Loader__17NQK"}},36:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(26),c=t.n(o),s=(t(36),t(17)),i=t(4),l=t(5),u=t(7),m=t(6),h=t(13),d=t.n(h),g=t(27),b=t(11),p=t.n(b);p.a.defaults.baseURL="https://pixabay.com/api/";var f=function(e,a){return p.a.defaults.params={key:"23749479-af26a543787f3771d684a474e",q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",page:a,per_page:12}};function j(e,a){return _.apply(this,arguments)}function _(){return(_=Object(g.a)(d.a.mark((function e(a,t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(a,t),e.next=3,p.a.get().then((function(e){return e.data.hits})).catch((function(e){return console.log("error: ",e.response)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=t(28),v=t.n(S),y=t(0);var O=function(e){var a=e.children;return Object(y.jsx)("div",{className:v.a.container,children:a})},I=t(8),x=t.n(I),w=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={searchString:""},e.handleChange=function(a){return e.setState({searchString:a.target.value})},e.handleSubmit=function(a){a.preventDefault();var t=e.state.searchString;""!==t.trim()?(e.props.onSubmit(t),e.resetForm()):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430...")},e.resetForm=function(){return e.setState({searchString:""})},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.handleSubmit,a=this.handleChange,t=this.state.searchString;return Object(y.jsx)("header",{className:x.a.Searchbar,children:Object(y.jsxs)("form",{className:x.a.SearchForm,onSubmit:e,children:[Object(y.jsx)("button",{type:"submit",className:x.a.SearchForm_button,children:Object(y.jsx)("span",{className:x.a.SearchForm_button__label,children:"Search"})}),Object(y.jsx)("input",{className:x.a.SearchForm_input,type:"text",value:t,onChange:a,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),t}(n.Component),L=t(14),k=t.n(L);var M=function(e){var a=e.webformatURL,t=e.largeImageURL,n=e.tags,r=e.onShowModal;return Object(y.jsx)("li",{className:k.a.ImageGalleryItem,onClick:function(){return r(t,n)},children:Object(y.jsx)("img",{src:a,alt:n,className:k.a.ImageGalleryItem_image})})},C=t(29),F=t.n(C);var N=function(e){var a=e.images,t=e.onShowModal;return Object(y.jsx)("ul",{className:F.a.ImageGallery,children:a.map((function(e){var a=e.id,n=e.webformatURL,r=e.largeImageURL,o=e.tags;return Object(y.jsx)(M,{webformatURL:n,largeImageURL:r,tags:o,onShowModal:t},a)}))})},U=t(15),G=t.n(U),R=function(e){var a=e.onLoadMore;return Object(y.jsx)("div",{className:G.a.buttonWrapper,children:Object(y.jsx)("button",{type:"button",className:G.a.Button,onClick:a,children:"Load more..."})})},T=t(30),E=t.n(T),B=(t(77),t(31)),H=t.n(B);var D=function(){return Object(y.jsx)(E.a,{className:H.a.Loader,type:"MutatingDots",color:"#3f51b5",height:100,width:100,timeout:3e3})},K=t(16),W=t.n(K),A=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).handleKeyEsc=function(a){27===a.keyCode&&e.props.toggleModalStatus()},e.handleClickBackdrop=function(a){a.currentTarget===a.target&&e.props.toggleModalStatus()},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyEsc)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyEsc)}},{key:"render",value:function(){var e=this.props,a=e.modalImageURL,t=e.modalImageTags;return Object(y.jsx)("div",{className:W.a.Overlay,onClick:this.handleClickBackdrop,children:Object(y.jsx)("div",{className:W.a.Modal,children:Object(y.jsx)("img",{src:a,alt:t})})})}}]),t}(n.Component),P=(t(78),function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={search:"",images:[],paginationPage:1,error:"",isLoading:!1,modalIsHidden:!0,modalImageURL:"",modalImageTags:""},e.loadImages=function(a){var t=e.state,n=t.images,r=t.search;e.setState({paginationPage:a,error:"",isLoading:!0}),j(r,a).then((function(a){0===a.length?e.setState({error:"There is no pictures by ".concat(r," name, please try another request")}):e.setState({images:[].concat(Object(s.a)(n||[]),Object(s.a)(a))})})).catch((function(a){return e.setState({error:a})})).finally((function(){return e.setState({isLoading:!1})}))},e.handleFormSubmit=function(a){e.setState({search:a})},e.handleToggleModalStatus=function(){e.setState((function(e){return{modalIsHidden:!e.modalIsHidden}}))},e.handleShowModalClick=function(a,t){e.setState({modalImageURL:a}),e.setState({modalImageTags:t}),e.handleToggleModalStatus()},e.handleLoadMoreClick=function(){e.loadImages(e.state.paginationPage+1)},e}return Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=this;a.search!==this.state.search&&this.setState({images:[]},(function(){t.loadImages(1)})),a.images!==this.state.images&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.isLoading,n=e.error,r=e.modalImageURL,o=e.modalImageTags,c=e.modalIsHidden,s=this.handleFormSubmit,i=this.handleShowModalClick,l=this.handleToggleModalStatus,u=this.handleLoadMoreClick;return Object(y.jsxs)(O,{children:[Object(y.jsx)(w,{onSubmit:s}),n&&Object(y.jsx)("h1",{children:n}),Object(y.jsx)(N,{images:a,onShowModal:i}),t&&Object(y.jsx)(D,{}),!!a.length&&!t&&Object(y.jsx)(R,{onLoadMore:u}),!c&&Object(y.jsx)(A,{toggleModalStatus:l,modalImageURL:r,modalImageTags:o})]})}}]),t}(n.Component));c.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(P,{})}),document.getElementById("root"))},8:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__2vYEt",SearchForm:"Searchbar_SearchForm__vlWvG",SearchForm_button:"Searchbar_SearchForm_button__1QRgj",SearchForm_button__label:"Searchbar_SearchForm_button__label__mxDlK",SearchForm_input:"Searchbar_SearchForm_input__1VvIM"}}},[[79,1,2]]]);
//# sourceMappingURL=main.7bf7cb38.chunk.js.map